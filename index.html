<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Canvas test</title>
	<meta http-equiv="Content-Type" content="text/html">
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<meta name="author" content="GreenImp Web - greenimp.co.uk">

	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=IE8">

	<style>
		body{
			margin:0;
			padding:0;
			background:#C1D3EE;
		}

		canvas#testCanvas{
			display:block;;
			margin:20px auto;
			width:500px;
			height:500px;
			box-shadow:-5px 5px 5px #666;
		}
	</style>
</head>

<body>
	<canvas width="500" height="500" id="testCanvas"></canvas>

	<script>
		var ctx = document.getElementById('testCanvas').getContext('2d');
		var image = new Image();
		image.src = 'frames/photo.jpg';
		var frame = new Image();   // Create new img element
		frame.onload = function(){
			// execute drawImage statements here
			/**
			 * draw the mount
			 */
			ctx.fillStyle = '#fff';
			ctx.fillRect(0, 0, 500, 500);

			var p1 = 149.5, p2 = 500-150+0.5;
			ctx.lineWidth = 1;
			ctx.strokeStyle = '#666';
			ctx.beginPath();
			ctx.moveTo(p1, p1);
			ctx.lineTo(p1, p2);
			ctx.lineTo(p2, p2);
			ctx.lineTo(p2, p1);
			ctx.lineTo(p1, p1);
			ctx.closePath();
			ctx.stroke();

			ctx.beginPath();
			ctx.strokeStyle = '#ccc';
			ctx.lineWidth = 2;
			p1 += 1; p2 -= 1;
			ctx.moveTo(p1, p1);
			ctx.lineTo(p1, p2);
			ctx.lineTo(p2, p2);
			ctx.lineTo(p2, p1);
			ctx.lineTo(p1, p1);
			ctx.closePath();
			ctx.stroke();

			/**
			 * Draw the image(s)
			 */
			p1 += 10;
			p2 -= 10;
			ctx.save();
			ctx.beginPath();
			ctx.moveTo(p1, p1);
			ctx.lineTo(p1, p2);
			ctx.lineTo(p2, p2);
			ctx.lineTo(p2, p1);
			ctx.lineTo(p1, p1);
			ctx.closePath();
			ctx.clip();
			ctx.drawImage(image, 0, 0, image.width, image.height, p1, p1, p2-p1, p2-p1);
			ctx.restore();


			/**
			 * Draw the frame
			 */
			ctx.drawImage(frame, 0, 0, 281, 1089, 0, 0, 103, 396);				// left
			ctx.drawImage(frame, 0, 0, 281, 1089, 0, 396, 103, 396);			// left

			ctx.drawImage(frame, 281, 0, 281, 1089, 500-103, 0, 103, 396);		// right
			ctx.drawImage(frame, 281, 0, 281, 1089, 500-103, 396, 103, 396);	// right

			ctx.save();
			ctx.beginPath();
			ctx.moveTo(0,0);
			ctx.lineTo(500,0);
			ctx.lineTo(500-103, 103);
			ctx.lineTo(103, 103);
			ctx.lineTo(0,0);
			ctx.closePath();
			ctx.clip();
			ctx.drawImage(frame, 562, 0, 1089, 281, 0, 0, 396, 103);	// top
			ctx.drawImage(frame, 562, 0, 1089, 281, 396, 0, 396, 103);	// top
			ctx.restore();

			ctx.save();
			ctx.beginPath();
			ctx.moveTo(0,500);
			ctx.lineTo(500,500);
			ctx.lineTo(500-103, 500-103);
			ctx.lineTo(103, 500-103);
			ctx.lineTo(0,500);
			ctx.closePath();
			ctx.clip();
			ctx.drawImage(frame, 562, 281, 1089, 281, 0, 500-103, 396, 103);	// bottom
			ctx.drawImage(frame, 562, 281, 1089, 281, 396, 500-103, 396, 103);	// bottom
			ctx.restore();
		};
		frame.src = 'frames/frame1.png'; // Set source path
	</script>
</body>
</html>